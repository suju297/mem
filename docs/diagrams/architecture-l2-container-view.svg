<svg id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1768.39px; background-color: transparent;" viewBox="0 0 1768.390625 439" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:1px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;stroke:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg p{margin:0;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg .cluster-label text{fill:#333;}#mermaid-svg .cluster-label span{color:#333;}#mermaid-svg .cluster-label span p{background-color:transparent;}#mermaid-svg .label text,#mermaid-svg span{fill:#333;color:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .rough-node .label text,#mermaid-svg .node .label text,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-anchor:middle;}#mermaid-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-svg .rough-node .label,#mermaid-svg .node .label,#mermaid-svg .image-shape .label,#mermaid-svg .icon-shape .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg .cluster span{color:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-svg rect.text{fill:none;stroke-width:0;}#mermaid-svg .icon-shape,#mermaid-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-svg .icon-shape p,#mermaid-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-svg .icon-shape rect,#mermaid-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg .container&gt;*{fill:#ECFEFF!important;stroke:#0E7490!important;stroke-width:2px!important;color:#083344!important;}#mermaid-svg .container span{fill:#ECFEFF!important;stroke:#0E7490!important;stroke-width:2px!important;color:#083344!important;}#mermaid-svg .container tspan{fill:#083344!important;}#mermaid-svg .data&gt;*{fill:#FAF5FF!important;stroke:#9333EA!important;stroke-width:2px!important;color:#3B0764!important;}#mermaid-svg .data span{fill:#FAF5FF!important;stroke:#9333EA!important;stroke-width:2px!important;color:#3B0764!important;}#mermaid-svg .data tspan{fill:#3B0764!important;}#mermaid-svg .cfg&gt;*{fill:#FFF7ED!important;stroke:#C2410C!important;stroke-width:2px!important;color:#431407!important;}#mermaid-svg .cfg span{fill:#FFF7ED!important;stroke:#C2410C!important;stroke-width:2px!important;color:#431407!important;}#mermaid-svg .cfg tspan{fill:#431407!important;}</style><g><marker id="mermaid-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="root" transform="translate(0, 0)"><g class="clusters"><g class="cluster " id="HOST" data-look="classic"><rect style="" x="8" y="8" width="1752.390625" height="423"></rect><g class="cluster-label " transform="translate(816.421875, 8)"><foreignObject width="135.546875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel "><p>Developer Machine</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M196.948,197L222.201,182.667C247.455,168.333,297.962,139.667,367.799,125.333C437.635,111,526.802,111,609.609,111C692.417,111,768.865,111,822.979,111C877.094,111,908.875,111,924.766,111L940.656,111" id="L_EXT_STDIO_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EXT_STDIO_0" data-points="W3sieCI6MTk2Ljk0NzUsInkiOjE5N30seyJ4IjozNDguNDY4NzUsInkiOjExMX0seyJ4Ijo2MTUuOTY4NzUsInkiOjExMX0seyJ4Ijo4NDUuMzEyNSwieSI6MTExfSx7IngiOjk0NC42NTYyNSwieSI6MTExfV0=" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M210.969,264.551L233.885,272.459C256.802,280.367,302.635,296.184,347.802,304.092C392.969,312,437.469,312,459.719,312L481.969,312" id="L_EXT_MANAGER_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EXT_MANAGER_0" data-points="W3sieCI6MjEwLjk2ODc1LCJ5IjoyNjQuNTUwNTQ5ODQwMzY4OTR9LHsieCI6MzQ4LjQ2ODc1LCJ5IjozMTJ9LHsieCI6NDg1Ljk2ODc1LCJ5IjozMTJ9XQ==" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M745.969,284.225L762.526,280.688C779.083,277.15,812.198,270.075,844.646,266.538C877.094,263,908.875,263,924.766,263L940.656,263" id="L_MANAGER_DAEMON_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MANAGER_DAEMON_0" data-points="W3sieCI6NzQ1Ljk2ODc1LCJ5IjoyODQuMjI1MDk4Nzg3MzAwNzR9LHsieCI6ODQ1LjMxMjUsInkiOjI2M30seyJ4Ijo5NDQuNjU2MjUsInkiOjI2M31d" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M1204.656,84.169L1218.521,81.308C1232.385,78.446,1260.115,72.723,1287.179,70.982C1314.244,69.242,1340.645,71.483,1353.845,72.604L1367.046,73.725" id="L_STDIO_DB_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_STDIO_DB_0" data-points="W3sieCI6MTIwNC42NTYyNSwieSI6ODQuMTY5MTU4NjA0NTE0OH0seyJ4IjoxMjg3Ljg0Mzc1LCJ5Ijo2N30seyJ4IjoxMzcxLjAzMTI1LCJ5Ijo3NC4wNjI5MjM5OTA3MTM2Nn1d" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M1185.601,212L1202.641,204.167C1219.682,196.333,1253.763,180.667,1291.188,166.854C1328.614,153.042,1369.384,141.084,1389.769,135.105L1410.155,129.126" id="L_DAEMON_DB_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DAEMON_DB_0" data-points="W3sieCI6MTE4NS42MDA3NjUzMDYxMjI0LCJ5IjoyMTJ9LHsieCI6MTI4Ny44NDM3NSwieSI6MTY1fSx7IngiOjE0MTMuOTkyOTA3MDcyMzY4MywieSI6MTI4fV0=" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M1185.601,162L1202.641,169.833C1219.682,177.667,1253.763,193.333,1295.769,213.21C1337.775,233.087,1387.707,257.175,1412.673,269.218L1437.638,281.262" id="L_STDIO_CFG_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_STDIO_CFG_0" data-points="W3sieCI6MTE4NS42MDA3NjUzMDYxMjI0LCJ5IjoxNjJ9LHsieCI6MTI4Ny44NDM3NSwieSI6MjA5fSx7IngiOjE0NDEuMjQxMTI1LCJ5IjoyODN9XQ==" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M1204.656,289.831L1218.521,292.692C1232.385,295.554,1260.115,301.277,1294.836,306.312C1329.557,311.346,1371.27,315.693,1392.126,317.866L1412.982,320.039" id="L_DAEMON_CFG_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DAEMON_CFG_0" data-points="W3sieCI6MTIwNC42NTYyNSwieSI6Mjg5LjgzMDg0MTM5NTQ4NTJ9LHsieCI6MTI4Ny44NDM3NSwieSI6MzA3fSx7IngiOjE0MTYuOTYwOTM3NSwieSI6MzIwLjQ1NDAwNTQ4NzM4MjA2fV0=" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path><path d="M745.969,346.01L762.526,350.342C779.083,354.673,812.198,363.337,866.979,367.668C921.76,372,998.208,372,1071.964,372C1145.719,372,1216.781,372,1273.172,368.941C1329.564,365.882,1371.283,359.763,1392.143,356.704L1413.003,353.645" id="L_MANAGER_CFG_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MANAGER_CFG_0" data-points="W3sieCI6NzQ1Ljk2ODc1LCJ5IjozNDYuMDEwMDgzMTE3NTkwOTd9LHsieCI6ODQ1LjMxMjUsInkiOjM3Mn0seyJ4IjoxMDc0LjY1NjI1LCJ5IjozNzJ9LHsieCI6MTI4Ny44NDM3NSwieSI6MzcyfSx7IngiOjE0MTYuOTYwOTM3NSwieSI6MzUzLjA2NDczMzAxNzc1ODZ9XQ==" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(615.96875, 111)"><g class="label" data-id="L_EXT_STDIO_0" transform="translate(-68.3828125, -12)"><foreignObject width="136.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>spawn per tool call</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(348.46875, 312)"><g class="label" data-id="L_EXT_MANAGER_0" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel "><p>status/start/stop commands</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(845.3125, 263)"><g class="label" data-id="L_MANAGER_DAEMON_0" transform="translate(-61.84375, -12)"><foreignObject width="123.6875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>start/stop/status</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1287.84375, 67)"><g class="label" data-id="L_STDIO_DB_0" transform="translate(-45.6875, -12)"><foreignObject width="91.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>reads/writes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1296.92854, 162.3354)"><g class="label" data-id="L_DAEMON_DB_0" transform="translate(-45.6875, -12)"><foreignObject width="91.375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>reads/writes</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1313.86668, 221.55365)"><g class="label" data-id="L_STDIO_CFG_0" transform="translate(-42.84375, -12)"><foreignObject width="85.6875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>loads config</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1310.16065, 309.32542)"><g class="label" data-id="L_DAEMON_CFG_0" transform="translate(-42.84375, -12)"><foreignObject width="85.6875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>loads config</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1074.65625, 372)"><g class="label" data-id="L_MANAGER_CFG_0" transform="translate(-97.4296875, -12)"><foreignObject width="194.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel "><p>loads manager info + token</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default container " id="flowchart-EXT-0" transform="translate(128.234375, 236)"><rect class="basic label-container" style="fill:#ECFEFF !important;stroke:#0E7490 !important;stroke-width:2px !important" x="-82.734375" y="-39" width="165.46875" height="78"></rect><g class="label" style="color:#083344 !important" transform="translate(-52.734375, -24)"><rect></rect><foreignObject width="105.46875" height="48"><div style="color: rgb(8, 51, 68) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#083344 !important" class="nodeLabel "><p>Extension Host<br>Container</p></span></div></foreignObject></g></g><g class="node default container " id="flowchart-STDIO-1" transform="translate(1074.65625, 111)"><rect class="basic label-container" style="fill:#ECFEFF !important;stroke:#0E7490 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"></rect><g class="label" style="color:#083344 !important" transform="translate(-100, -36)"><rect></rect><foreignObject width="200" height="72"><div style="color: rgb(8, 51, 68) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#083344 !important" class="nodeLabel "><p>mem process (one-shot stdio MCP)<br>Container</p></span></div></foreignObject></g></g><g class="node default container " id="flowchart-MANAGER-3" transform="translate(615.96875, 312)"><rect class="basic label-container" style="fill:#ECFEFF !important;stroke:#0E7490 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"></rect><g class="label" style="color:#083344 !important" transform="translate(-100, -36)"><rect></rect><foreignObject width="200" height="72"><div style="color: rgb(8, 51, 68) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#083344 !important" class="nodeLabel "><p>mem mcp manager (localhost TCP)<br>Container</p></span></div></foreignObject></g></g><g class="node default container " id="flowchart-DAEMON-2" transform="translate(1074.65625, 263)"><rect class="basic label-container" style="fill:#ECFEFF !important;stroke:#0E7490 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"></rect><g class="label" style="color:#083344 !important" transform="translate(-100, -36)"><rect></rect><foreignObject width="200" height="72"><div style="color: rgb(8, 51, 68) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#083344 !important" class="nodeLabel "><p>mem mcp daemon (background)<br>Container</p></span></div></foreignObject></g></g><g class="node default data " id="flowchart-DB-5" transform="translate(1546.9609375, 89)"><rect class="basic label-container" style="fill:#FAF5FF !important;stroke:#9333EA !important;stroke-width:2px !important" x="-175.9296875" y="-39" width="351.859375" height="78"></rect><g class="label" style="color:#3B0764 !important" transform="translate(-145.9296875, -24)"><rect></rect><foreignObject width="291.859375" height="48"><div style="color: rgb(59, 7, 100) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#3B0764 !important" class="nodeLabel "><p>SQLite Repo DB<br>&lt;data_dir&gt;/repos/&lt;repo_id&gt;/memory.db</p></span></div></foreignObject></g></g><g class="node default cfg " id="flowchart-CFG-4" transform="translate(1546.9609375, 334)"><rect class="basic label-container" style="fill:#FFF7ED !important;stroke:#C2410C !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"></rect><g class="label" style="color:#431407 !important" transform="translate(-100, -36)"><rect></rect><foreignObject width="200" height="72"><div style="color: rgb(67, 20, 7) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#431407 !important" class="nodeLabel "><p>Config + Repo Routing State<br>XDG config, active_repo, repo_cache</p></span></div></foreignObject></g></g></g></g></g></g></g></svg>